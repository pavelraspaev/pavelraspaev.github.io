<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link href='https://fonts.googleapis.com/css?family=Raleway:400,100,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="normalize.css">
	<link rel="stylesheet" href="style.css">
	<script src="https://fb.me/react-0.14.3.min.js"></script>
	<script src="https://fb.me/react-dom-0.14.3.min.js"></script>
	<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
	<script src="jquery.parallax.min.js"></script>
	<script src="parallax.min.js"></script>
	<title>Pavel Raspaev - Test apps</title>
</head>
<body>
    <div id="page-preloader"><span class="spinner"></span></div>
    
    <script>
    $(window).on('load', function () {
        var $preloader = $('#page-preloader'),
            $spinner   = $preloader.find('.spinner');
        $spinner.fadeOut();
        $preloader.delay(350).fadeOut('slow');
    });
    </script>
    <script>
    /** @jsx React.DOM */

    var MenuExample = React.createClass({

        getInitialState: function(){
            return { focused: 0 };
        },

        clicked: function(index){

            // The click handler will update the state with
            // the index of the focused menu entry

            this.setState({focused: index});
        },

        render: function() {

            // Here we will read the items property, which was passed
            // as an attribute when the component was created

            var self = this;

            // The map method will loop over the array of menu entries,
            // and will return a new array with <li> elements.

            return (
                <div>
                    <ul>{ this.props.items.map(function(m, index){

                        var style = '';

                        if(self.state.focused == index){
                            style = 'focused';
                        }

                        // Notice the use of the bind() method. It makes the
                        // index available to the clicked function:

                        return <li className={style} onClick={self.clicked.bind(self, index)}>{m}</li>;

                    }) }

                    </ul>

                    <p>Selected: {this.props.items[this.state.focused]}</p>
                </div>
            );

        }
    });

    // Render the menu component on the page, and pass an array with menu options

    React.renderComponent(
        <MenuExample items={ ['Home', 'Services', 'About', 'Contact us'] } />,
        document.body
    );
	</script>
</body>
</html>
